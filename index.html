<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>symbol-bootstrap</title>
	<meta name="description" content="Documentation for symbol-bootstrap">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">symbol-bootstrap</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>symbol-bootstrap</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#symbol-bootstrap" id="symbol-bootstrap" style="color: inherit; text-decoration: none;">
					<h1>symbol-bootstrap</h1>
				</a>
				<p>Symbol CLI tool that allows you creating, configuring and running Symbol&#39;s complete networks or nodes to be sync with existing networks.</p>
				<p><a href="https://oclif.io"><img src="https://img.shields.io/badge/cli-oclif-brightgreen.svg" alt="oclif"></a>
					<a href="https://npmjs.org/package/symbol-bootstrap"><img src="https://img.shields.io/npm/v/symbol-bootstrap.svg" alt="Version"></a>
					<a href="https://npmjs.org/package/symbol-bootstrap"><img src="https://img.shields.io/npm/dw/symbol-bootstrap.svg" alt="Downloads/week"></a>
					<a href="https://github.com/nemtech/symbol-bootstrap/blob/master/package.json"><img src="https://img.shields.io/npm/l/symbol-bootstrap.svg" alt="License"></a>
					<a href="https://travis-ci.com/nemtech/symbol-bootstrap"><img src="https://travis-ci.com/nemtech/symbol-bootstrap.svg?branch=main" alt="Build Status"></a>
					<a href="https://coveralls.io/github/nemtech/symbol-bootstrap?branch=main"><img src="https://coveralls.io/repos/github/nemtech/symbol-bootstrap/badge.svg?branch=main" alt="Coverage Status"></a>
				<a href="https://nemtech.github.io/symbol-bootstrap/"><img src="https://img.shields.io/badge/api-doc-blue.svg" alt="Api Doc"></a></p>
				<!-- toc -->
				<ul>
					<li><a href="#symbol-bootstrap">symbol-bootstrap</a></li>
					<li><a href="#why-this-tool">Why this tool?</a></li>
					<li><a href="#key-benefits">Key benefits:</a></li>
					<li><a href="#concepts">Concepts</a></li>
					<li><a href="#requirements">Requirements</a></li>
					<li><a href="#usage">Usage</a></li>
					<li><a href="#e2e-testing-support">E2E Testing support</a></li>
					<li><a href="#development">Development</a></li>
					<li><a href="#commands">Commands</a></li>
					<li><a href="#command-topics">Command Topics</a><!-- tocstop --></li>
				</ul>
				<a href="#why-this-tool" id="why-this-tool" style="color: inherit; text-decoration: none;">
					<h1>Why this tool?</h1>
				</a>
				<p>This tool has been created to address the problems defined in Symbol&#39;s <a href="https://github.com/nemtech/NIP/blob/main/NIPs/nip-0011.md">NIP11</a>.</p>
				<p>It replaces:</p>
				<ul>
					<li>  <a href="https://github.com/nemtech/catapult-service-bootstrap">catapult-service-bootstrap</a></li>
					<li>  <a href="https://github.com/nemgrouplimited/symbol-service-bootstrap">symbol-testnet-bootstrap</a></li>
				</ul>
				<a href="#key-benefits" id="key-benefits" style="color: inherit; text-decoration: none;">
					<h1>Key benefits:</h1>
				</a>
				<ul>
					<li>  It&#39;s an installable cli tool. It&#39;s not a repo you need to clone and compile.</li>
					<li>  The configuration is parametrized via CLI commands and presets instead of by changing properties files.</li>
					<li>  The tools code is unique for any type of network, new networks or nodes in a network. It doesn&#39;t need to be copied and pasted in different projects or assemblies.</li>
					<li>  The config command runs on the host machine, not via docker making it easier to debug or tune</li>
					<li>  It&#39;s uses the TS SDK for key generation, vrf transactions, address generation instead of using catapult-tools (nemgen is still used to generate the nemesis block).</li>
					<li>  Easier to maintain, the properties files are reused for all nodes, assemblies and network types.</li>
					<li>  Network setup (how many database, nodes, rest gateways to run) is defined in presets, users can provide their own ones.</li>
					<li>  Docker-compose yaml files are generated based on the network setup/preset instead of being manually created/upgraded.</li>
					<li>  The created network (config, nemesis and docker-compose) can be zipped and distributed for other host machines to run it.</li>
					<li>  The used docker images versions can be changed via configuration/preset</li>
					<li>  It uses the <a href="https://oclif.io">oclif</a> framework. New commands are easy to add and document.</li>
					<li>  It can be included as a npm dependency for clients&#39; e2e testing.</li>
				</ul>
				<a href="#concepts" id="concepts" style="color: inherit; text-decoration: none;">
					<h1>Concepts</h1>
				</a>
				<a href="#preset" id="preset" style="color: inherit; text-decoration: none;">
					<h2>Preset:</h2>
				</a>
				<p>Yaml files that define the configuration and layout of the network and nodes. It defines how many nodes, database, rest gateways, the modes, keys, etc.</p>
				<p>Presets are defined at 4 levels from general to specific:</p>
				<ul>
					<li>  Shared: Default configurations for all the networks.</li>
					<li>  Network: It defines the main preset of a given network, example: <code>bootstrap</code> or <code>testnet</code>.</li>
					<li>  Assembly: It defines a modification of a network, example: <code>testnet peer</code>, <code>tesnet dual</code>, <code>testnet api</code>. Assembly is required for some networks (like <code>testnet</code>).</li>
					<li>  Custom: A user provided yml file (<code>--customPreset</code> param) that could override some or all properties in the out-of-the-box presets.</li>
				</ul>
				<p>Properties in each file override the previous values (by object deep merge).</p>
				<a href="#out-of-the-box-presets" id="out-of-the-box-presets" style="color: inherit; text-decoration: none;">
					<h3>Out-of-the-box presets:</h3>
				</a>
				<ul>
					<li>  <code>-p bootstrap</code>: Default <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/bootstrap/network.yml">preset</a>. It&#39;s a private network with 1 mongo database, 2 peers, 1 api and 1 rest gateway. Nemesis block is generated.</li>
					<li>  <code>-p bootstrap -a light</code>: A <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/bootstrap/assembly-light.yml">light</a> network. It&#39;s a version of bootstrap preset with 1 mongo database, 1 dual peer and 1 rest gateway. Great for faster light e2e automatic testing. Nemesis block is generated.</li>
					<li>  <code>-p bootstrap -a full</code>: A <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/bootstrap/assembly-full.yml">full</a> network. The default bootstrap preset plus 1 wallet, 1 explorer and 1 faucet. Great for demonstration purposes. Nemesis block is generated.</li>
					<li>  <code>-p testnet -a peer</code>: A <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/testnet/assembly-peer.yml">harvesting</a> peer node that connects to the current public <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/testnet/network.yml">testnet</a>. <a href="https://github.com/nemtech/symbol-bootstrap/tree/main/presets/testnet/seed/00000">Nemesis block</a> is copied over.</li>
					<li>  <code>-p testnet -a api</code>: A <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/testnet/assembly-api.yml">api</a> peer node that connects to the current public <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/testnet/network.yml">testnet</a> running its own mongo database and rest gateway. <a href="https://github.com/nemtech/symbol-bootstrap/tree/main/presets/testnet/seed/00000">Nemesis block</a> is copied over.</li>
					<li>  <code>-p testnet -a dual</code>: A <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/testnet/assembly-dual.yml">dual</a> haversting peer node that connects to the current public <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/presets/testnet/network.yml">testnet</a> running its own mongo database and rest gateway. <a href="https://github.com/nemtech/symbol-bootstrap/tree/main/presets/testnet/seed/00000">Nemesis block</a> is copied over.</li>
				</ul>
				<a href="#custom-preset" id="custom-preset" style="color: inherit; text-decoration: none;">
					<h3>Custom preset:</h3>
				</a>
				<p>It&#39;s the way you can tune the network without modifying the code. It&#39;s a yml file (<code>--customPreset</code> param) that could override some or all properties in the out-of-the-box presets.</p>
				<p>Custom presets give Symbol Bootstrap its versatility. Check out the custom preset <a href="docs/presetGuides.md">guides</a>!</p>
				<a href="#target" id="target" style="color: inherit; text-decoration: none;">
					<h2>Target:</h2>
				</a>
				<p>The folder where the generated config, docker files and data are stored. The folder structure is:</p>
				<ul>
					<li>  <code>./preset.yml</code>: the final generated preset.yml that it&#39;s used to configure bootstrap, the nodes, docker, etc.</li>
					<li>  <code>./addresses.yml</code>: randomly generated data that wasn&#39;t provided in the preset. e.g.: SSL keys, nodes&#39; keys, nemesis accounts, generation hash seed, etc.</li>
					<li>  <code>./nodes</code>: it holds the configuration, data and logs for all the defined node instances.</li>
					<li>  <code>./gateways</code>: it holds the configuration and logs for all the defined node rest gateways.</li>
					<li>  <code>./nemesis</code>: The folder used to hold the nemesis block. Block 1 data is generated via <code>nemgen</code> tool for new networks. For existing network, it is copied over.</li>
					<li>  <code>./databases</code>: the location where the mongo data is stored for the different database instances.</li>
					<li>  <code>./docker</code>: the generated docker-compose.yml, mongo init scripts and server basic bash scripts.</li>
					<li>  <code>./reports</code>: the location of the generated reports.</li>
				</ul>
				<a href="#requirements" id="requirements" style="color: inherit; text-decoration: none;">
					<h1>Requirements</h1>
				</a>
				<ul>
					<li>  Node 12.0.0+</li>
					<li>  Docker 18.3.0+</li>
					<li>  Docker Compose 1.25.0+</li>
				</ul>
				<p>Validate your environment by running:</p>
				<pre><code><span style="color: #001080">symbol</span><span style="color: #000000">-</span><span style="color: #001080">bootstrap</span><span style="color: #000000"> </span><span style="color: #001080">verify</span>
</code></pre>
				<p>Check your user can run docker without sudo:</p>
				<pre><code><span style="color: #001080">docker</span><span style="color: #000000"> </span><span style="color: #001080">run</span><span style="color: #000000"> </span><span style="color: #001080">hello</span><span style="color: #000000">-</span><span style="color: #001080">world</span>
</code></pre>
				<p>If you see an error like:</p>
				<pre><code><span style="color: #001080">Got</span><span style="color: #000000"> </span><span style="color: #001080">permission</span><span style="color: #000000"> </span><span style="color: #001080">denied</span><span style="color: #000000"> </span><span style="color: #AF00DB">while</span><span style="color: #000000"> </span><span style="color: #001080">trying</span><span style="color: #000000"> </span><span style="color: #001080">to</span><span style="color: #000000"> </span><span style="color: #001080">connect</span><span style="color: #000000"> </span><span style="color: #001080">to</span><span style="color: #000000"> </span><span style="color: #001080">the</span><span style="color: #000000"> </span><span style="color: #001080">Docker</span><span style="color: #000000"> </span><span style="color: #001080">daemon</span><span style="color: #000000"> </span><span style="color: #001080">socket</span><span style="color: #000000"> </span><span style="color: #001080">at</span><span style="color: #000000"> unix:</span><span style="color: #008000">///var/run/docker.sock</span>
</code></pre>
				<p>Please follow this <a href="https://www.digitalocean.com/community/questions/how-to-fix-docker-got-permission-denied-while-trying-to-connect-to-the-docker-daemon-socket">guide</a>.</p>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h1>Usage</h1>
				</a>
				<p>It&#39;s recommended to run the commands from en empty working dir.</p>
				<p>The network configuration, data and docker files will be created inside the target folder (&#39;./target&#39;) by default.</p>
				<pre><code><span style="color: #001080">mkdir</span><span style="color: #000000"> </span><span style="color: #001080">my</span><span style="color: #000000">-</span><span style="color: #001080">networks</span>
<span style="color: #001080">cd</span><span style="color: #000000"> </span><span style="color: #001080">my</span><span style="color: #000000">-</span><span style="color: #001080">networks</span>
</code></pre>
				<p>Once in the working dir:</p>
				<!-- usage -->
				<pre><code class="language-sh-session">$ npm install -g symbol-bootstrap
$ symbol-bootstrap COMMAND
running command...
$ symbol-bootstrap (-v|--version|version)
symbol-bootstrap/1.0.8 linux-x64 node-v12.22.1
$ symbol-bootstrap --help [COMMAND]
USAGE
  $ symbol-bootstrap COMMAND
...
</code></pre>
				<!-- usagestop -->
				<p>The general usage would be:</p>
				<pre><code><span style="color: #001080">symbol</span><span style="color: #000000">-</span><span style="color: #001080">bootstrap</span><span style="color: #000000"> </span><span style="color: #001080">config</span><span style="color: #000000"> -</span><span style="color: #001080">p</span><span style="color: #000000"> </span><span style="color: #001080">bootstrap</span>
<span style="color: #001080">symbol</span><span style="color: #000000">-</span><span style="color: #001080">bootstrap</span><span style="color: #000000"> </span><span style="color: #001080">compose</span>
<span style="color: #001080">symbol</span><span style="color: #000000">-</span><span style="color: #001080">bootstrap</span><span style="color: #000000"> </span><span style="color: #001080">run</span>
</code></pre>
				<p>You can aggregate all these commands with this one liner:</p>
				<pre><code><span style="color: #001080">symbol</span><span style="color: #000000">-</span><span style="color: #001080">bootstrap</span><span style="color: #000000"> </span><span style="color: #001080">start</span><span style="color: #000000"> -</span><span style="color: #001080">p</span><span style="color: #000000"> </span><span style="color: #001080">bootstrap</span>
</code></pre>
				<p>If you need to start fresh, you many need to sudo remove the target folder (docker volumes dirs may be created using sudo). Example:</p>
				<pre><code><span style="color: #001080">sudo</span><span style="color: #000000"> </span><span style="color: #001080">rm</span><span style="color: #000000"> -</span><span style="color: #001080">rf</span><span style="color: #000000"> ./</span><span style="color: #001080">target</span>
</code></pre>
				<a href="#e2e-testing-support" id="e2e-testing-support" style="color: inherit; text-decoration: none;">
					<h1>E2E Testing support</h1>
				</a>
				<p>One use case of this CLI is client E2E testing support. If you are coding a Symbol client, you (Travis or Jenkins) can run e2e tests like:</p>
				<pre><code><span style="color: #001080">symbol</span><span style="color: #000000">-</span><span style="color: #001080">bootstrap</span><span style="color: #000000"> </span><span style="color: #001080">start</span><span style="color: #000000"> -</span><span style="color: #001080">p</span><span style="color: #000000"> </span><span style="color: #001080">bootstrap</span><span style="color: #000000"> --</span><span style="color: #001080">detached</span>
<span style="color: #0070C1">YOUR</span><span style="color: #000000"> </span><span style="color: #795E26">TEST</span><span style="color: #000000"> (</span><span style="color: #001080">e</span><span style="color: #000000">.</span><span style="color: #001080">g</span><span style="color: #000000">: </span><span style="color: #001080">npm</span><span style="color: #000000"> </span><span style="color: #001080">run</span><span style="color: #000000"> </span><span style="color: #001080">test</span><span style="color: #000000">, </span><span style="color: #001080">gradle</span><span style="color: #000000"> </span><span style="color: #001080">test</span><span style="color: #000000">, </span><span style="color: #001080">selenium</span><span style="color: #000000"> </span><span style="color: #001080">etc</span><span style="color: #000000">.)</span>
<span style="color: #001080">symbol</span><span style="color: #000000">-</span><span style="color: #001080">bootstrap</span><span style="color: #000000"> </span><span style="color: #001080">stop</span>
</code></pre>
				<p><code>--detached</code> starts the server waiting until it is up (by polling the network <a href="http://localhost:3000/node/health">http://localhost:3000/node/health</a>). The command will fail if the components are not up in 30 seconds.</p>
				<p>You can also provide your own custom preset (<code>-c</code>) if you want your e2e test to start with a specific state (specific balances addresses, mosaics, namespaces, generation hash seed, etc.)</p>
				<a href="#node-client-e2e-via-cli" id="node-client-e2e-via-cli" style="color: inherit; text-decoration: none;">
					<h2>Node client E2E via CLI:</h2>
				</a>
				<p>The CLI can also be used as npm project (dev) dependency (<code>npm install --save-dev symbol-bootstrap</code>). Then you can integrate the network to your npm test cycle.
				Your <code>package.json</code> can look like this:</p>
				<pre><code class="language-yaml">
<span style="color: #A31515">&quot;devDependencies&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">    </span><span style="color: #098658">....</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;symbol-bootstrap&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;0.0.x&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #098658">....</span>
<span style="color: #000000">}</span>

<span style="color: #800000">scripts&quot;</span><span style="color: #000000">: {</span>
<span style="color: #098658">...</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;clean-network&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;symbol-bootstrap clean&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;run-network&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;symbol-bootstrap start -c ./output/my_custom_preset.yml --detached --healthCheck&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;run-stop&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;symbol-bootstrap stop&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;integration-test&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;....some mocha/jest/etc tests running against localhost:3000 network....&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #A31515">&quot;e2e&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;npm run clean-network &amp;&amp; npm run run-network &amp;&amp; npm run integration-test &amp;&amp; npm run stop-network&quot;</span><span style="color: #000000">,</span>
<span style="color: #098658">...</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>Then, you, Jenkins, Travis or your CI tool can run;</p>
				<pre><code><span style="color: #001080">npm</span><span style="color: #000000"> </span><span style="color: #001080">run</span><span style="color: #000000"> </span><span style="color: #001080">e2e</span>
</code></pre>
				<a href="#node-client-e2e-via-api" id="node-client-e2e-via-api" style="color: inherit; text-decoration: none;">
					<h2>Node client E2E via API:</h2>
				</a>
				<p>Alternatively, you can use the <a href="https://github.com/nemtech/symbol-bootstrap/blob/main/src/service/BootstrapService.ts">BootstrapService</a> facade to programmatically start and stop a server.</p>
				<p>Example:</p>
				<pre><code class="language-ts"><span style="color: #AF00DB">import</span><span style="color: #000000"> {</span><span style="color: #001080">BootstrapService</span><span style="color: #000000">, </span><span style="color: #001080">StartParams</span><span style="color: #000000">, </span><span style="color: #001080">Preset</span><span style="color: #000000">} </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;symbol-bootstrap&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> {</span><span style="color: #001080">expect</span><span style="color: #000000">} </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@oclif/test&#039;</span><span style="color: #000000">;</span>

<span style="color: #795E26">it</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Bootstrap e2e test&#039;</span><span style="color: #000000">, </span><span style="color: #0000FF">async</span><span style="color: #000000"> () </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">service</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">BootstrapService</span><span style="color: #000000">();</span>
<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">config</span><span style="color: #000000">: </span><span style="color: #267F99">StartParams</span><span style="color: #000000"> = {</span>
<span style="color: #000000">        </span><span style="color: #001080">preset:</span><span style="color: #000000"> </span><span style="color: #001080">Preset</span><span style="color: #000000">.</span><span style="color: #001080">bootstrap</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #001080">reset:</span><span style="color: #000000"> </span><span style="color: #0000FF">true</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #001080">healthCheck:</span><span style="color: #000000"> </span><span style="color: #0000FF">true</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #001080">timeout:</span><span style="color: #000000"> </span><span style="color: #098658">60000</span><span style="color: #000000"> * </span><span style="color: #098658">5</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #001080">target:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;target/bootstrap-test&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #001080">detached:</span><span style="color: #000000"> </span><span style="color: #0000FF">true</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #001080">user:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;current&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    };</span>
<span style="color: #000000">    </span><span style="color: #AF00DB">try</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">service</span><span style="color: #000000">.</span><span style="color: #795E26">stop</span><span style="color: #000000">(</span><span style="color: #001080">config</span><span style="color: #000000">);</span>
<span style="color: #000000">        </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">configResult</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">service</span><span style="color: #000000">.</span><span style="color: #795E26">start</span><span style="color: #000000">(</span><span style="color: #001080">config</span><span style="color: #000000">);</span>
<span style="color: #000000">        </span><span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">configResult</span><span style="color: #000000">.</span><span style="color: #001080">presetData</span><span style="color: #000000">).</span><span style="color: #001080">not</span><span style="color: #000000">.</span><span style="color: #001080">null</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #795E26">expect</span><span style="color: #000000">(</span><span style="color: #001080">configResult</span><span style="color: #000000">.</span><span style="color: #001080">addresses</span><span style="color: #000000">).</span><span style="color: #001080">not</span><span style="color: #000000">.</span><span style="color: #001080">null</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #008000">// Here you can write unit tests against a http://localhost:3000 network</span>
<span style="color: #000000">    } </span><span style="color: #AF00DB">finally</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">service</span><span style="color: #000000">.</span><span style="color: #795E26">stop</span><span style="color: #000000">(</span><span style="color: #001080">config</span><span style="color: #000000">);</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">});</span>
</code></pre>
				<p>It&#39;s recommended to reuse the same server for multiple tests by using <code>beforeAll</code>, <code>afterAll</code> kind of statements.</p>
				<a href="#development" id="development" style="color: inherit; text-decoration: none;">
					<h1>Development</h1>
				</a>
				<p>If you want to contribute to this tool, clone this repo and run:</p>
				<pre><code><span style="color: #001080">npm</span><span style="color: #000000"> </span><span style="color: #001080">install</span><span style="color: #000000"> -</span><span style="color: #001080">g</span>
</code></pre>
				<p>Then, <code>symbol-bootstrap</code> runs from the source code. You can now try your features after changing the code.</p>
				<p>Pull Requests are appreciated! Please follow the contributing <a href="CONTRIBUTING.md">guidelines</a>.</p>
				<p>Note: cloning this repo is only for people that want to tune the tool in a way it cannot be configured. If this is your case, please provide a feature request.
				General users should install this tool like any other node module.</p>
				<a href="#commands" id="commands" style="color: inherit; text-decoration: none;">
					<h1>Commands</h1>
				</a>
				<!-- commands -->
				<a href="#command-topics" id="command-topics" style="color: inherit; text-decoration: none;">
					<h1>Command Topics</h1>
				</a>
				<ul>
					<li><a href="docs/autocomplete.md"><code>symbol-bootstrap autocomplete</code></a> - display autocomplete installation instructions</li>
					<li><a href="docs/clean.md"><code>symbol-bootstrap clean</code></a> - It removes the target folder deleting the generated configuration and data</li>
					<li><a href="docs/compose.md"><code>symbol-bootstrap compose</code></a> - It generates the <code>docker-compose.yml</code> file from the configured network.</li>
					<li><a href="docs/config.md"><code>symbol-bootstrap config</code></a> - Command used to set up the configuration files and the nemesis block for the current network</li>
					<li><a href="docs/decrypt.md"><code>symbol-bootstrap decrypt</code></a> - It decrypts a yml file using the provided password. The source file can be a custom preset file, a preset.yml file or an addresses.yml.</li>
					<li><a href="docs/encrypt.md"><code>symbol-bootstrap encrypt</code></a> - It encrypts a yml file using the provided password. The source files would be a custom preset file, a preset.yml file or an addresses.yml.</li>
					<li><a href="docs/enrollRewardProgram.md"><code>symbol-bootstrap enrollRewardProgram</code></a> - It enrols the nodes in the rewards program by announcing the enroll transaction to the registration address.  You can also use this command to update the program registration when you change the agent keys (changing the agent-ca-csr) or server host.</li>
					<li><a href="docs/healthCheck.md"><code>symbol-bootstrap healthCheck</code></a> - It checks if the services created with docker compose are up and running.</li>
					<li><a href="docs/help.md"><code>symbol-bootstrap help</code></a> - display help for symbol-bootstrap</li>
					<li><a href="docs/link.md"><code>symbol-bootstrap link</code></a> - It announces VRF and Voting Link transactions to the network for each node with &#39;Peer&#39; or &#39;Voting&#39; roles. This command finalizes the node registration to an existing network.</li>
					<li><a href="docs/report.md"><code>symbol-bootstrap report</code></a> - it generates reStructuredText (.rst) reports describing the configuration of each node.</li>
					<li><a href="docs/resetData.md"><code>symbol-bootstrap resetData</code></a> - It removes the data keeping the generated configuration, certificates, keys and block 1.</li>
					<li><a href="docs/run.md"><code>symbol-bootstrap run</code></a> - It boots the network via docker using the generated <code>docker-compose.yml</code> file and configuration. The config and compose methods/commands need to be called before this method. This is just a wrapper for the <code>docker-compose up</code> bash call.</li>
					<li><a href="docs/start.md"><code>symbol-bootstrap start</code></a> - Single command that aggregates config, compose and run in one line!</li>
					<li><a href="docs/stop.md"><code>symbol-bootstrap stop</code></a> - It stops the docker-compose network if running (symbol-bootstrap started with --detached). This is just a wrapper for the <code>docker-compose down</code> bash call.</li>
					<li><a href="docs/updateVotingKeys.md"><code>symbol-bootstrap updateVotingKeys</code></a> - It updates the voting files containing the voting keys when required.</li>
					<li><a href="docs/verify.md"><code>symbol-bootstrap verify</code></a> - It tests the installed software in the current computer reporting if there is any missing dependency, invalid version, or software related issue.</li>
				</ul>
				<!-- commandsstop -->
				<pre><code>
</code></pre>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/commands_clean.html">commands/clean</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/commands_compose.html">commands/compose</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/commands_config.html">commands/config</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/commands_decrypt.html">commands/decrypt</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/commands_encrypt.html">commands/encrypt</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/commands_enrollrewardprogram.html">commands/enroll<wbr>Reward<wbr>Program</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/commands_healthcheck.html">commands/health<wbr>Check</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/commands_link.html">commands/link</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/commands_report.html">commands/report</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/commands_resetdata.html">commands/reset<wbr>Data</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/commands_run.html">commands/run</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/commands_start.html">commands/start</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/commands_stop.html">commands/stop</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/commands_updatevotingkeys.html">commands/update<wbr>Voting<wbr>Keys</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/commands_verify.html">commands/verify</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/index.html">index</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/logger.html">logger</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/logger_logtype.html">logger/<wbr>Log<wbr>Type</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/logger_logger.html">logger/<wbr>Logger</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/logger_loggerfactory.html">logger/<wbr>Logger<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/model.html">model</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/model_addresses.html">model/<wbr>Addresses</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/model_configpreset.html">model/<wbr>Config<wbr>Preset</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/model_dockercompose.html">model/<wbr>Docker<wbr>Compose</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/model_nodetype.html">model/<wbr>Node<wbr>Type</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service.html">service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_agentcertificateservice.html">service/<wbr>Agent<wbr>Certificate<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_announceservice.html">service/<wbr>Announce<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_bootstrapservice.html">service/<wbr>Bootstrap<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_bootstraputils.html">service/<wbr>Bootstrap<wbr>Utils</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_certificateservice.html">service/<wbr>Certificate<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_commandutils.html">service/<wbr>Command<wbr>Utils</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_composeservice.html">service/<wbr>Compose<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_configloader.html">service/<wbr>Config<wbr>Loader</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_configservice.html">service/<wbr>Config<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_cryptoutils.html">service/<wbr>Crypto<wbr>Utils</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_forgecertificateservice.html">service/<wbr>Forge<wbr>Certificate<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_linkservice.html">service/<wbr>Link<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_nemgenservice.html">service/<wbr>Nemgen<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_portservice.html">service/<wbr>Port<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_remotenodeservice.html">service/<wbr>Remote<wbr>Node<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_reportservice.html">service/<wbr>Report<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_rewardprogramservice.html">service/<wbr>Reward<wbr>Program<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_runservice.html">service/<wbr>Run<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_sshpkservice.html">service/<wbr>Sshpk<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_verifyservice.html">service/<wbr>Verify<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_votingservice.html">service/<wbr>Voting<wbr>Service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/service_votingutils.html">service/<wbr>Voting<wbr>Utils</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>